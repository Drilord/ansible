# inventory.ini
# Using Ansible Docker connection plugin

[mariadb_master]
# Use the service name from docker-compose.yml
mysql ansible_host=mysql master_server_id=1

[mariadb_replica]
# Use the service name from docker-compose.yml
replica1 ansible_host=mysqlreplica replica_server_id=2 replica_container_name=mysqlreplica
replica2 ansible_host=mysqlrep2 replica_server_id=3 replica_container_name=mysqlrep2

[mariadb:children]
mariadb_master
mariadb_replica

[mariadb:vars]
# --- Connection Settings ---
ansible_connection=docker 
ansible_python_interpreter=/usr/bin/python3
# Use Docker connection plugin
ansible_user=root        
 # User to execute commands as via 'docker exec'

# --- Database Credentials ---
# IMPORTANT: Use Ansible Vault to encrypt db_repl_password in production!
db_root_password='' 
# Empty root password as per docker-compose.yml
db_repl_user=replication_user
db_repl_password="{{ vault_db_repl_password }}" 
# Reference the encrypted variable

# --- Replica Configuration (Reference Only) ---
# These are set in docker-compose.yml, but good to keep track
gtid_domain_id=1
